"use strict";for(var currentTheme,body=document.querySelector("body"),main=document.querySelector(".main"),themeLink=document.querySelector(".theme"),languageLink=document.querySelector(".language"),navItemsMain=Array.from(document.querySelectorAll(".down")),ulItemsDown=Array.from(document.querySelectorAll(".nav__items-down")),navItemsDown=document.querySelectorAll(".nav__item-down"),navItemsMobileMain=Array.from(document.querySelectorAll(".mobile-down")),ulItemsMobileDown=Array.from(document.querySelectorAll(".nav__mobile-items-down")),allNavItemsMain=Array.from(document.querySelectorAll(".nav__item-main")),navBurger=document.querySelector(".nav__burger"),navMobileItems=document.querySelector(".nav__mobile-items"),specialityImg=document.querySelector(".speciality-photo"),specialityEnlarge=document.querySelector(".fa-magnifying-glass-plus"),specialityClose=document.querySelector(".speciality-closing-info"),coursesTitle=document.querySelectorAll(".courses__title"),coursesContent=document.querySelectorAll(".courses__content"),inputValues=document.querySelectorAll(".courses__calculator-grade"),calculateButton=document.querySelector(".courses__calculator-button"),gradeResult=document.querySelector(".courses__result"),gradeResultInfo=document.querySelector(".courses__calculator-result"),gradeCloseResult=document.querySelector(".courses__close-result"),coursesExplanation=document.querySelector(".courses__explanation"),inputNumbersArr=[],changeTheme=function(){"dark"===body.getAttribute("data-mode")?localStorage.setItem("theme","light"):localStorage.setItem("theme","dark"),saveTheme()},saveTheme=function(){currentTheme=localStorage.getItem("theme"),body.setAttribute("data-mode",currentTheme)},i=0;i<navItemsMain.length;i++){var showItemsDown=function(t){ulItemsDown.forEach(function(e){ulItemsDown.indexOf(e)!==navItemsMain.indexOf(t.target)?e.classList.remove("nav-active"):e.classList.toggle("nav-active")}),removeItemsDown(t)};navItemsMain[i].addEventListener("click",showItemsDown)}for(var highlightNavMain=function(){switch(!0){case main.classList.contains("home"):allNavItemsMain[0].classList.add("menu-item-active");break;case main.classList.contains("courses"):allNavItemsMain[1].classList.add("menu-item-active");break;case main.classList.contains("speciality"):allNavItemsMain[2].classList.add("menu-item-active");break;case main.classList.contains("staff"):allNavItemsMain[3].classList.add("menu-item-active");break;case main.classList.contains("research"):allNavItemsMain[4].classList.add("menu-item-active");break;case main.classList.contains("labs"):allNavItemsMain[5].classList.add("menu-item-active")}},removeItemsDown=function(e){var t=document.querySelector(".nav__items");e.target!==t&&-1===allNavItemsMain.indexOf(e.target)&&ulItemsDown.forEach(function(e){return e.classList.remove("nav-active")})},_i=0;_i<navItemsMobileMain.length;_i++){var showItemsMobileDown=function(t){ulItemsMobileDown.forEach(function(e){ulItemsMobileDown.indexOf(e)!==navItemsMobileMain.indexOf(t.target)?e.classList.remove("mobile-down-active"):e.classList.toggle("mobile-down-active")})};navItemsMobileMain[_i].addEventListener("click",showItemsMobileDown)}for(var enlargeImg,closeImg,calculateGrade,closeResult,showMobileItems=function(){return navMobileItems.classList.toggle("nav-mobile-active")},highlightMobileMain=function(){var e=Array.from(document.querySelectorAll(".nav__mobile-main"));switch(!0){case main.classList.contains("home"):e[0].classList.add("menu-item-active");break;case main.classList.contains("courses"):e[1].classList.add("menu-item-active");break;case main.classList.contains("speciality"):e[2].classList.add("menu-item-active");break;case main.classList.contains("staff"):e[3].classList.add("menu-item-active");break;case main.classList.contains("research"):e[4].classList.add("menu-item-active");break;case main.classList.contains("labs"):e[5].classList.add("menu-item-active")}},removeMobileItemsDown=function(){navMobileItems.classList.contains("nav-mobile-active")||ulItemsMobileDown.forEach(function(e){return e.classList.remove("mobile-down-active")})},_loop=(null!==specialityEnlarge&&null!==specialityClose&&null!==specialityImg&&(closeImg=function(){specialityEnlarge.style.display="block",specialityClose.style.display="none",specialityImg.classList.remove("speciality-enlarge")},specialityEnlarge.addEventListener("click",enlargeImg=function(){specialityEnlarge.style.display="none",specialityClose.style.display="block",specialityImg.classList.add("speciality-enlarge")}),specialityImg.addEventListener("click",closeImg),specialityClose.addEventListener("click",closeImg)),function(e){coursesTitle[e].addEventListener("click",function(){return coursesContent[e].classList.toggle("courses-visible")})}),_i2=0;_i2<coursesTitle.length;_i2++)_loop(_i2);inputValues!==[]&&null!==gradeResult&null!==coursesExplanation&&null!==gradeResultInfo&&null!==gradeCloseResult&&(closeResult=function(e){e.preventDefault(),gradeResultInfo.classList.remove("result-visible")},calculateButton.addEventListener("click",calculateGrade=function(e){inputValues.forEach(function(e){e=parseFloat(e.value);inputNumbersArr.push(e)});var t=inputNumbersArr.slice(0,-4),a=inputNumbersArr.slice(-4),s=t.reduce(function(e,t){return e+t}),n=a.reduce(function(e,t){return e+t}),t=t.filter(function(e){return 2===e}).length,a=n/a.length;t<=1&&3<=a?(t=Math.round(2*(2/3*s/3+1/3*n/4))/2,gradeResult.textContent=t.toFixed(1),coursesExplanation.style.display="none"):(gradeResult.textContent="2.0",coursesExplanation.style.display="block"),inputNumbersArr.length=0,e.preventDefault(),gradeResultInfo.classList.contains("result-visible")?gradeResult.textContent=gradeResultNumber.toFixed(1):gradeResultInfo.classList.add("result-visible")}),gradeCloseResult.addEventListener("click",closeResult));var displayYear=function(){var e=document.querySelector(".year"),t=new Date;e.textContent=t.getFullYear()};themeLink.addEventListener("click",changeTheme),window.addEventListener("DOMContentLoaded",saveTheme),window.addEventListener("click",removeItemsDown),navBurger.addEventListener("click",showMobileItems),navBurger.addEventListener("click",removeMobileItemsDown),window.addEventListener("DOMContentLoaded",highlightNavMain),window.addEventListener("DOMContentLoaded",highlightMobileMain),window.addEventListener("DOMContentLoaded",displayYear);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJjb3Vyc2VzRXhwbGFuYXRpb24iLCJib2R5IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWFpbiIsInRoZW1lTGluayIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsYW5ndWFnZUxpbmsiLCJuYXZJdGVtc01haW4iLCJBcnJheSIsInVsSXRlbXNEb3duIiwiZnJvbSIsIm5hdkl0ZW1zRG93biIsIm5hdkl0ZW1zTW9iaWxlTWFpbiIsInVsSXRlbXNNb2JpbGVEb3duIiwiYWxsTmF2SXRlbXNNYWluIiwibmF2QnVyZ2VyIiwibmF2TW9iaWxlSXRlbXMiLCJzcGVjaWFsaXR5SW1nIiwic3BlY2lhbGl0eUVubGFyZ2UiLCJzcGVjaWFsaXR5Q2xvc2UiLCJjb3Vyc2VzVGl0bGUiLCJjb3Vyc2VzQ29udGVudCIsImlucHV0VmFsdWVzIiwiY2FsY3VsYXRlQnV0dG9uIiwiZ3JhZGVSZXN1bHQiLCJncmFkZVJlc3VsdEluZm8iLCJjdXJyZW50VGhlbWUiLCJjaGFuZ2VUaGVtZSIsImdldEF0dHJpYnV0ZSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJzYXZlVGhlbWUiLCJzZXRBdHRyaWJ1dGUiLCJnZXRJdGVtIiwiZm9yRWFjaCIsImxlbmd0aCIsImkiLCJzaG93SXRlbXNEb3duIiwiaW5kZXhPZiIsImNsYXNzTGlzdCIsInJlbW92ZSIsIml0ZW0iLCJlIiwidGFyZ2V0IiwidG9nZ2xlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhpZ2hsaWdodE5hdk1haW4iLCJjb250YWlucyIsImFkZCIsInJlbW92ZUl0ZW1zRG93biIsIm5hdkl0ZW1zIiwic2hvd0l0ZW1zTW9iaWxlRG93biIsInNob3dNb2JpbGVJdGVtcyIsInNob3dDb3Vyc2VzQ29udGVudCIsImNsb3NlSW1nIiwiY2xvc2VSZXN1bHQiLCJoaWdobGlnaHRNb2JpbGVNYWluIiwiYWxsTW9iaWxlSXRlbXNNYWluIiwicmVtb3ZlTW9iaWxlSXRlbXNEb3duIiwiZGlzcGxheSIsInVsSXRlbSIsInN0eWxlIiwiX2xvb3AiLCJjYWxjdWxhdGVHcmFkZSIsImlucHV0TnVtYmVyc0FyciIsImlucHV0TnVtYmVyIiwiZXhlcmNpc2VHcmFkZXMiLCJzbGljZSIsInN1bVRlc3RHcmFkZXMiLCJ0ZXN0R3JhZGVzIiwicmVkdWNlIiwicHJldkdyYWRlIiwibmV4dEdyYWRlIiwidGVzdEF2ZXJhZ2UiLCJmbHVua2luZ0dyYWRlc0NvdW50IiwiZ3JhZGVDbG9zZVJlc3VsdCIsInByZXZlbnREZWZhdWx0IiwidGV4dENvbnRlbnQiLCJwYXJzZUZsb2F0IiwiaW5wdXRWYWx1ZSIsInZhbHVlIiwiZmlsdGVyIiwiZ3JhZGVSZXN1bHROdW1iZXIiLCJNYXRoIiwicm91bmQiLCJzdW1FeGVyY2lzZUdyYWRlcyIsImRpc3BsYXlZZWFyIiwidG9GaXhlZCIsInllYXIiLCJnZXRGdWxsWWVhciIsIndpbmRvdyIsImdldFllYXIiLCJEYXRlIl0sIm1hcHBpbmdzIjoiYUF5Q0EsSUF6Q0EsSUFzQk1BLGFBdEJBQyxLQUFPQyxTQUFTQyxjQUFjLE1BQU0sRUFDcENDLEtBQU9GLFNBQVNDLGNBQWMsT0FBTyxFQURyQ0YsVUFBT0MsU0FBU0MsY0FBcUIsUUFBQSxFQUNyQ0MsYUFBZ0JELFNBQUFBLGNBQXNCLFdBQUEsRUFDdENFLGFBQVlILE1BQVNDLEtBQUFBLFNBQWNHLGlCQUFTLE9BQUEsQ0FBQSxFQUM1Q0MsWUFBZUwsTUFBQUEsS0FBU0MsU0FBQUEsaUJBQTBCLGtCQUFBLENBQUEsRUFDbERLLGFBQWVDLFNBQVdQLGlCQUFTSSxpQkFBeUIsRUFDNURJLG1CQUFvQkMsTUFBS1QsS0FBU0ksU0FBQUEsaUJBQWlCLGNBQW9CLENBQUEsRUFDdkVNLGtCQUFlVixNQUFTSSxLQUFBQSxTQUFpQkEsaUJBQWtCLHlCQUFBLENBQUEsRUFDM0RPLGdCQUFrQkosTUFBUUUsS0FBS1QsU0FBU0ksaUJBQWlCLGlCQUFpQixDQUFBLEVBQzFFUSxVQUFBQSxTQUFvQkwsY0FBV1AsY0FBU0ksRUFDeENTLGVBQWtCTixT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ZUFBZSxFQUNoRGxDLFVBQVU4QixpQkFBaUIsUUFBU08sZUFBZSxFQUNuRHJDLFVBQVU4QixpQkFBaUIsUUFBU2EscUJBQXFCLEVBQ3pEZ0MsT0FBTzdDLGlCQUFpQixtQkFBb0JDLGdCQUFnQixFQUM1RDRDLE9BQU83QyxpQkFBaUIsbUJBQW9CVyxtQkFBbUIsRUFDL0RrQyxPQUFPN0MsaUJBQWlCLG1CQUFvQnlDLFdBQVciLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JylcclxuY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluJylcclxuY29uc3QgdGhlbWVMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRoZW1lJylcclxuY29uc3QgbGFuZ3VhZ2VMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxhbmd1YWdlJylcclxuY29uc3QgbmF2SXRlbXNNYWluID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZG93bicpKVxyXG5jb25zdCB1bEl0ZW1zRG93biA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdl9faXRlbXMtZG93bicpKVxyXG5jb25zdCBuYXZJdGVtc0Rvd24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19pdGVtLWRvd24nKVxyXG5jb25zdCBuYXZJdGVtc01vYmlsZU1haW4gPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2JpbGUtZG93bicpKVxyXG5jb25zdCB1bEl0ZW1zTW9iaWxlRG93biA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdl9fbW9iaWxlLWl0ZW1zLWRvd24nKSlcclxuY29uc3QgYWxsTmF2SXRlbXNNYWluID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19pdGVtLW1haW4nKSlcclxuY29uc3QgbmF2QnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fYnVyZ2VyJylcclxuY29uc3QgbmF2TW9iaWxlSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19tb2JpbGUtaXRlbXMnKVxyXG5jb25zdCBzcGVjaWFsaXR5SW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNwZWNpYWxpdHktcGhvdG8nKVxyXG5jb25zdCBzcGVjaWFsaXR5RW5sYXJnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYS1tYWduaWZ5aW5nLWdsYXNzLXBsdXMnKVxyXG5jb25zdCBzcGVjaWFsaXR5Q2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3BlY2lhbGl0eS1jbG9zaW5nLWluZm8nKVxyXG5jb25zdCBjb3Vyc2VzVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY291cnNlc19fdGl0bGUnKVxyXG5jb25zdCBjb3Vyc2VzQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb3Vyc2VzX19jb250ZW50JylcclxuY29uc3QgaW5wdXRWYWx1ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY291cnNlc19fY2FsY3VsYXRvci1ncmFkZScpXHJcbmNvbnN0IGNhbGN1bGF0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb3Vyc2VzX19jYWxjdWxhdG9yLWJ1dHRvbicpXHJcbmNvbnN0IGdyYWRlUmVzdWx0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvdXJzZXNfX3Jlc3VsdCcpXHJcbmNvbnN0IGdyYWRlUmVzdWx0SW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb3Vyc2VzX19jYWxjdWxhdG9yLXJlc3VsdCcpXHJcbmNvbnN0IGdyYWRlQ2xvc2VSZXN1bHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY291cnNlc19fY2xvc2UtcmVzdWx0JylcclxuY29uc3QgY291cnNlc0V4cGxhbmF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvdXJzZXNfX2V4cGxhbmF0aW9uJylcclxuXHJcbmxldCBjdXJyZW50VGhlbWVcclxuY29uc3QgaW5wdXROdW1iZXJzQXJyID0gW11cclxuXHJcbmNvbnN0IGNoYW5nZVRoZW1lID0gKCkgPT4ge1xyXG5cdGlmIChib2R5LmdldEF0dHJpYnV0ZSgnZGF0YS1tb2RlJykgPT09ICdkYXJrJykge1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RoZW1lJywgJ2xpZ2h0JylcclxuXHR9IGVsc2Uge1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RoZW1lJywgJ2RhcmsnKVxyXG5cdH1cclxuXHRzYXZlVGhlbWUoKVxyXG59XHJcblxyXG5jb25zdCBzYXZlVGhlbWUgPSAoKSA9PiB7XHJcblx0Y3VycmVudFRoZW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RoZW1lJylcclxuXHRib2R5LnNldEF0dHJpYnV0ZSgnZGF0YS1tb2RlJywgY3VycmVudFRoZW1lKVxyXG59XHJcblxyXG5mb3IgKGxldCBpID0gMDsgaSA8IG5hdkl0ZW1zTWFpbi5sZW5ndGg7IGkrKykge1xyXG5cdGNvbnN0IHNob3dJdGVtc0Rvd24gPSAoZSkgPT4ge1xyXG5cdFx0dWxJdGVtc0Rvd24uZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0XHRpZiAodWxJdGVtc0Rvd24uaW5kZXhPZihpdGVtKSAhPT0gbmF2SXRlbXNNYWluLmluZGV4T2YoZS50YXJnZXQpKSB7XHJcblx0XHRcdFx0aXRlbS5jbGFzc0xpc3QucmVtb3ZlKCduYXYtYWN0aXZlJylcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ25hdi1hY3RpdmUnKVxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdFx0cmVtb3ZlSXRlbXNEb3duKGUpXHJcblx0fVxyXG5cdG5hdkl0ZW1zTWFpbltpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dJdGVtc0Rvd24pXHJcbn1cclxuXHJcbmNvbnN0IGhpZ2hsaWdodE5hdk1haW4gPSAoKSA9PiB7XHJcblx0c3dpdGNoICh0cnVlKSB7XHJcblx0XHRjYXNlIG1haW4uY2xhc3NMaXN0LmNvbnRhaW5zKCdob21lJyk6XHJcblx0XHRcdGFsbE5hdkl0ZW1zTWFpblswXS5jbGFzc0xpc3QuYWRkKCdtZW51LWl0ZW0tYWN0aXZlJylcclxuXHRcdFx0YnJlYWtcclxuXHRcdGNhc2UgbWFpbi5jbGFzc0xpc3QuY29udGFpbnMoJ2NvdXJzZXMnKTpcclxuXHRcdFx0YWxsTmF2SXRlbXNNYWluWzFdLmNsYXNzTGlzdC5hZGQoJ21lbnUtaXRlbS1hY3RpdmUnKVxyXG5cdFx0XHRicmVha1xyXG5cdFx0Y2FzZSBtYWluLmNsYXNzTGlzdC5jb250YWlucygnc3BlY2lhbGl0eScpOlxyXG5cdFx0XHRhbGxOYXZJdGVtc01haW5bMl0uY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtLWFjdGl2ZScpXHJcblx0XHRcdGJyZWFrXHJcblx0XHRjYXNlIG1haW4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpOlxyXG5cdFx0XHRhbGxOYXZJdGVtc01haW5bM10uY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtLWFjdGl2ZScpXHJcblx0XHRcdGJyZWFrXHJcblx0XHRjYXNlIG1haW4uY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNlYXJjaCcpOlxyXG5cdFx0XHRhbGxOYXZJdGVtc01haW5bNF0uY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtLWFjdGl2ZScpXHJcblx0XHRcdGJyZWFrXHJcblx0XHRjYXNlIG1haW4uY2xhc3NMaXN0LmNvbnRhaW5zKCdsYWJzJyk6XHJcblx0XHRcdGFsbE5hdkl0ZW1zTWFpbls1XS5jbGFzc0xpc3QuYWRkKCdtZW51LWl0ZW0tYWN0aXZlJylcclxuXHRcdFx0YnJlYWtcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IHJlbW92ZUl0ZW1zRG93biA9IChlKSA9PiB7XHJcblx0Y29uc3QgbmF2SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19pdGVtcycpXHJcblxyXG5cdGlmIChlLnRhcmdldCAhPT0gbmF2SXRlbXMgJiYgYWxsTmF2SXRlbXNNYWluLmluZGV4T2YoZS50YXJnZXQpID09PSAtMSkge1xyXG5cdFx0dWxJdGVtc0Rvd24uZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCduYXYtYWN0aXZlJykpXHJcblx0fVxyXG59XHJcblxyXG5mb3IgKGxldCBpID0gMDsgaSA8IG5hdkl0ZW1zTW9iaWxlTWFpbi5sZW5ndGg7IGkrKykge1xyXG5cdGNvbnN0IHNob3dJdGVtc01vYmlsZURvd24gPSAoZSkgPT4ge1xyXG5cdFx0dWxJdGVtc01vYmlsZURvd24uZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0dWxJdGVtc01vYmlsZURvd24uaW5kZXhPZihpdGVtKSAhPT0gbmF2SXRlbXNNb2JpbGVNYWluLmluZGV4T2YoZS50YXJnZXQpXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnbW9iaWxlLWRvd24tYWN0aXZlJylcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ21vYmlsZS1kb3duLWFjdGl2ZScpXHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRuYXZJdGVtc01vYmlsZU1haW5baV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93SXRlbXNNb2JpbGVEb3duKVxyXG59XHJcblxyXG5jb25zdCBzaG93TW9iaWxlSXRlbXMgPSAoKSA9PlxyXG5cdG5hdk1vYmlsZUl0ZW1zLmNsYXNzTGlzdC50b2dnbGUoJ25hdi1tb2JpbGUtYWN0aXZlJylcclxuXHJcbmNvbnN0IGhpZ2hsaWdodE1vYmlsZU1haW4gPSAoKSA9PiB7XHJcblx0Y29uc3QgYWxsTW9iaWxlSXRlbXNNYWluID0gQXJyYXkuZnJvbShcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfX21vYmlsZS1tYWluJylcclxuXHQpXHJcblxyXG5cdHN3aXRjaCAodHJ1ZSkge1xyXG5cdFx0Y2FzZSBtYWluLmNsYXNzTGlzdC5jb250YWlucygnaG9tZScpOlxyXG5cdFx0XHRhbGxNb2JpbGVJdGVtc01haW5bMF0uY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtLWFjdGl2ZScpXHJcblx0XHRcdGJyZWFrXHJcblx0XHRjYXNlIG1haW4uY2xhc3NMaXN0LmNvbnRhaW5zKCdjb3Vyc2VzJyk6XHJcblx0XHRcdGFsbE1vYmlsZUl0ZW1zTWFpblsxXS5jbGFzc0xpc3QuYWRkKCdtZW51LWl0ZW0tYWN0aXZlJylcclxuXHRcdFx0YnJlYWtcclxuXHRcdGNhc2UgbWFpbi5jbGFzc0xpc3QuY29udGFpbnMoJ3NwZWNpYWxpdHknKTpcclxuXHRcdFx0YWxsTW9iaWxlSXRlbXNNYWluWzJdLmNsYXNzTGlzdC5hZGQoJ21lbnUtaXRlbS1hY3RpdmUnKVxyXG5cdFx0XHRicmVha1xyXG5cdFx0Y2FzZSBtYWluLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKTpcclxuXHRcdFx0YWxsTW9iaWxlSXRlbXNNYWluWzNdLmNsYXNzTGlzdC5hZGQoJ21lbnUtaXRlbS1hY3RpdmUnKVxyXG5cdFx0XHRicmVha1xyXG5cdFx0Y2FzZSBtYWluLmNsYXNzTGlzdC5jb250YWlucygncmVzZWFyY2gnKTpcclxuXHRcdFx0YWxsTW9iaWxlSXRlbXNNYWluWzRdLmNsYXNzTGlzdC5hZGQoJ21lbnUtaXRlbS1hY3RpdmUnKVxyXG5cdFx0XHRicmVha1xyXG5cdFx0Y2FzZSBtYWluLmNsYXNzTGlzdC5jb250YWlucygnbGFicycpOlxyXG5cdFx0XHRhbGxNb2JpbGVJdGVtc01haW5bNV0uY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtLWFjdGl2ZScpXHJcblx0XHRcdGJyZWFrXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCByZW1vdmVNb2JpbGVJdGVtc0Rvd24gPSAoKSA9PiB7XHJcblx0aWYgKG5hdk1vYmlsZUl0ZW1zLmNsYXNzTGlzdC5jb250YWlucygnbmF2LW1vYmlsZS1hY3RpdmUnKSkge1xyXG5cdFx0cmV0dXJuXHJcblx0fSBlbHNlIHtcclxuXHRcdHVsSXRlbXNNb2JpbGVEb3duLmZvckVhY2goKHVsSXRlbSkgPT5cclxuXHRcdFx0dWxJdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ21vYmlsZS1kb3duLWFjdGl2ZScpXHJcblx0XHQpXHJcblx0fVxyXG59XHJcblxyXG5pZiAoXHJcblx0c3BlY2lhbGl0eUVubGFyZ2UgIT09IG51bGwgJiYgc3BlY2lhbGl0eUNsb3NlICE9PSBudWxsICYmIHNwZWNpYWxpdHlJbWcgIT09IG51bGxcclxuKSB7XHJcblx0Y29uc3QgZW5sYXJnZUltZyA9ICgpID0+IHtcclxuXHRcdHNwZWNpYWxpdHlFbmxhcmdlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuXHRcdHNwZWNpYWxpdHlDbG9zZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xyXG5cdFx0c3BlY2lhbGl0eUltZy5jbGFzc0xpc3QuYWRkKCdzcGVjaWFsaXR5LWVubGFyZ2UnKVxyXG5cdH1cclxuXHJcblx0Y29uc3QgY2xvc2VJbWcgPSAoKSA9PiB7XHJcblx0XHRzcGVjaWFsaXR5RW5sYXJnZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xyXG5cdFx0c3BlY2lhbGl0eUNsb3NlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuXHRcdHNwZWNpYWxpdHlJbWcuY2xhc3NMaXN0LnJlbW92ZSgnc3BlY2lhbGl0eS1lbmxhcmdlJylcclxuXHR9XHJcblxyXG5cdHNwZWNpYWxpdHlFbmxhcmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZW5sYXJnZUltZylcclxuXHRzcGVjaWFsaXR5SW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VJbWcpXHJcblx0c3BlY2lhbGl0eUNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VJbWcpXHJcbn1cclxuXHJcbmZvciAobGV0IGkgPSAwOyBpIDwgY291cnNlc1RpdGxlLmxlbmd0aDsgaSsrKSB7XHJcblx0Y29uc3Qgc2hvd0NvdXJzZXNDb250ZW50ID0gKCkgPT5cclxuXHRcdGNvdXJzZXNDb250ZW50W2ldLmNsYXNzTGlzdC50b2dnbGUoJ2NvdXJzZXMtdmlzaWJsZScpXHJcblxyXG5cdGNvdXJzZXNUaXRsZVtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dDb3Vyc2VzQ29udGVudClcclxufVxyXG5cclxuaWYgKFxyXG5cdGlucHV0VmFsdWVzICE9PSBbXSAmJlxyXG5cdGdyYWRlUmVzdWx0ICE9PSBudWxsICYgY291cnNlc0V4cGxhbmF0aW9uICE9PSBudWxsICYmIGdyYWRlUmVzdWx0SW5mbyAhPT0gbnVsbCAmJiBncmFkZUNsb3NlUmVzdWx0ICE9PSBudWxsXHJcbikge1xyXG5cdGNvbnN0IGNhbGN1bGF0ZUdyYWRlID0gKGUpID0+IHtcclxuXHRcdGlucHV0VmFsdWVzLmZvckVhY2goKGlucHV0VmFsdWUpID0+IHtcclxuXHRcdFx0Y29uc3QgaW5wdXROdW1iZXIgPSBwYXJzZUZsb2F0KGlucHV0VmFsdWUudmFsdWUpXHJcblx0XHRcdGlucHV0TnVtYmVyc0Fyci5wdXNoKGlucHV0TnVtYmVyKVxyXG5cdFx0fSlcclxuXHJcblx0XHRjb25zdCBleGVyY2lzZUdyYWRlcyA9IGlucHV0TnVtYmVyc0Fyci5zbGljZSgwLCAtNClcclxuXHRcdGNvbnN0IHRlc3RHcmFkZXMgPSBpbnB1dE51bWJlcnNBcnIuc2xpY2UoLTQpXHJcblx0XHRjb25zdCBzdW1FeGVyY2lzZUdyYWRlcyA9IGV4ZXJjaXNlR3JhZGVzLnJlZHVjZSgocHJldkdyYWRlLCBuZXh0R3JhZGUpID0+IHtcclxuXHRcdFx0cmV0dXJuIHByZXZHcmFkZSArIG5leHRHcmFkZVxyXG5cdFx0fSlcclxuXHRcdGNvbnN0IHN1bVRlc3RHcmFkZXMgPSB0ZXN0R3JhZGVzLnJlZHVjZSgocHJldkdyYWRlLCBuZXh0R3JhZGUpID0+IHtcclxuXHRcdFx0cmV0dXJuIHByZXZHcmFkZSArIG5leHRHcmFkZVxyXG5cdFx0fSlcclxuXHRcdGNvbnN0IGZsdW5raW5nR3JhZGVzQ291bnQgPSBleGVyY2lzZUdyYWRlcy5maWx0ZXIoXHJcblx0XHRcdChncmFkZSkgPT4gZ3JhZGUgPT09IDJcclxuXHRcdCkubGVuZ3RoXHJcblx0XHRjb25zdCB0ZXN0QXZlcmFnZSA9IHN1bVRlc3RHcmFkZXMgLyB0ZXN0R3JhZGVzLmxlbmd0aFxyXG5cclxuXHRcdGlmIChmbHVua2luZ0dyYWRlc0NvdW50IDw9IDEgJiYgdGVzdEF2ZXJhZ2UgPj0gMykge1xyXG5cdFx0XHRjb25zdCBncmFkZVJlc3VsdE51bWJlciA9IE1hdGgucm91bmQoKCgoMiAvIDMpICogc3VtRXhlcmNpc2VHcmFkZXMpIC8gMyArICgoMSAvIDMpICogc3VtVGVzdEdyYWRlcykgLyA0KSAqIDIpIC8gMlxyXG5cdFx0XHRncmFkZVJlc3VsdC50ZXh0Q29udGVudCA9IGdyYWRlUmVzdWx0TnVtYmVyLnRvRml4ZWQoMSlcclxuXHRcdFx0Y291cnNlc0V4cGxhbmF0aW9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGdyYWRlUmVzdWx0LnRleHRDb250ZW50ID0gJzIuMCdcclxuXHRcdFx0Y291cnNlc0V4cGxhbmF0aW9uLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXHJcblx0XHR9XHJcblxyXG5cdFx0aW5wdXROdW1iZXJzQXJyLmxlbmd0aCA9IDBcclxuXHJcblx0XHRlLnByZXZlbnREZWZhdWx0KClcclxuXHRcdGlmIChncmFkZVJlc3VsdEluZm8uY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXN1bHQtdmlzaWJsZScpKSB7XHJcblx0XHRcdGdyYWRlUmVzdWx0LnRleHRDb250ZW50ID0gZ3JhZGVSZXN1bHROdW1iZXIudG9GaXhlZCgxKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Z3JhZGVSZXN1bHRJbmZvLmNsYXNzTGlzdC5hZGQoJ3Jlc3VsdC12aXNpYmxlJylcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNvbnN0IGNsb3NlUmVzdWx0ID0gKGUpID0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKVxyXG5cdFx0Z3JhZGVSZXN1bHRJbmZvLmNsYXNzTGlzdC5yZW1vdmUoJ3Jlc3VsdC12aXNpYmxlJylcclxuXHR9XHJcblxyXG5cdGNhbGN1bGF0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNhbGN1bGF0ZUdyYWRlKVxyXG5cdGdyYWRlQ2xvc2VSZXN1bHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVJlc3VsdClcclxufVxyXG5cclxuY29uc3QgZGlzcGxheVllYXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgeWVhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy55ZWFyJylcclxuXHJcblx0Y29uc3QgZ2V0WWVhciA9IG5ldyBEYXRlKClcclxuXHR5ZWFyLnRleHRDb250ZW50ID0gZ2V0WWVhci5nZXRGdWxsWWVhcigpXHJcbn1cclxuXHJcbnRoZW1lTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoYW5nZVRoZW1lKVxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHNhdmVUaGVtZSlcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlSXRlbXNEb3duKVxyXG5uYXZCdXJnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93TW9iaWxlSXRlbXMpXHJcbm5hdkJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZU1vYmlsZUl0ZW1zRG93bilcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBoaWdobGlnaHROYXZNYWluKVxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGhpZ2hsaWdodE1vYmlsZU1haW4pXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZGlzcGxheVllYXIpXHJcbiJdfQ==
