"use strict";for(var currentTheme,body=document.querySelector("body"),main=document.querySelector(".main"),themeLink=document.querySelector(".theme"),languageLink=document.querySelector(".language"),navItemsMain=Array.from(document.querySelectorAll(".down")),ulItemsDown=Array.from(document.querySelectorAll(".nav__items-down")),navItemsDown=document.querySelectorAll(".nav__item-down"),navItemsMobileMain=Array.from(document.querySelectorAll(".mobile-down")),ulItemsMobileDown=Array.from(document.querySelectorAll(".nav__mobile-items-down")),allNavItemsMain=Array.from(document.querySelectorAll(".nav__item-main")),navBurger=document.querySelector(".nav__burger"),navMobileItems=document.querySelector(".nav__mobile-items"),specialityImg=document.querySelector(".speciality-photo"),specialityEnlarge=document.querySelector(".fa-magnifying-glass-plus"),specialityClose=document.querySelector(".speciality-closing-info"),coursesTitle=document.querySelectorAll(".courses__title"),coursesContent=document.querySelectorAll(".courses__content"),inputValues=document.querySelectorAll(".courses__calculator-grade"),calculateButton=document.querySelector(".courses__calculator-button"),gradeResult=document.querySelector(".courses__result"),gradeResultInfo=document.querySelector(".courses__calculator-result"),gradeCloseResult=document.querySelector(".courses__close-result"),coursesExplanation=document.querySelector(".courses__explanation"),inputNumbersArr=[],changeTheme=function(){"dark"===body.getAttribute("data-mode")?localStorage.setItem("theme","light"):localStorage.setItem("theme","dark"),saveTheme()},saveTheme=function(){null!==(currentTheme=localStorage.getItem("theme"))?body.setAttribute("data-mode",currentTheme):body.setAttribute("data-mode","dark")},i=0;i<navItemsMain.length;i++){var showItemsDown=function(t){ulItemsDown.forEach(function(e){ulItemsDown.indexOf(e)!==navItemsMain.indexOf(t.target)?e.classList.remove("nav-active"):e.classList.toggle("nav-active")}),removeItemsDown(t)};navItemsMain[i].addEventListener("click",showItemsDown)}for(var highlightNavMain=function(){switch(!0){case main.classList.contains("home"):allNavItemsMain[0].classList.add("menu-item-active");break;case main.classList.contains("courses"):allNavItemsMain[1].classList.add("menu-item-active");break;case main.classList.contains("speciality"):allNavItemsMain[2].classList.add("menu-item-active");break;case main.classList.contains("staff"):allNavItemsMain[3].classList.add("menu-item-active");break;case main.classList.contains("research"):allNavItemsMain[4].classList.add("menu-item-active");break;case main.classList.contains("labs"):allNavItemsMain[5].classList.add("menu-item-active")}},removeItemsDown=function(e){var t=document.querySelector(".nav__items");e.target!==t&&-1===allNavItemsMain.indexOf(e.target)&&ulItemsDown.forEach(function(e){return e.classList.remove("nav-active")})},_i=0;_i<navItemsMobileMain.length;_i++){var showItemsMobileDown=function(t){ulItemsMobileDown.forEach(function(e){ulItemsMobileDown.indexOf(e)!==navItemsMobileMain.indexOf(t.target)?e.classList.remove("mobile-down-active"):e.classList.toggle("mobile-down-active")})};navItemsMobileMain[_i].addEventListener("click",showItemsMobileDown)}for(var enlargeImg,closeImg,calculateGrade,closeResult,showMobileItems=function(){return navMobileItems.classList.toggle("nav-mobile-active")},highlightMobileMain=function(){var e=Array.from(document.querySelectorAll(".nav__mobile-main"));switch(!0){case main.classList.contains("home"):e[0].classList.add("menu-item-active");break;case main.classList.contains("courses"):e[1].classList.add("menu-item-active");break;case main.classList.contains("speciality"):e[2].classList.add("menu-item-active");break;case main.classList.contains("staff"):e[3].classList.add("menu-item-active");break;case main.classList.contains("research"):e[4].classList.add("menu-item-active");break;case main.classList.contains("labs"):e[5].classList.add("menu-item-active")}},removeMobileItemsDown=function(){navMobileItems.classList.contains("nav-mobile-active")||ulItemsMobileDown.forEach(function(e){return e.classList.remove("mobile-down-active")})},_loop=(null!==specialityEnlarge&&null!==specialityClose&&null!==specialityImg&&(closeImg=function(){specialityEnlarge.style.display="block",specialityClose.style.display="none",specialityImg.classList.remove("speciality-enlarge")},specialityEnlarge.addEventListener("click",enlargeImg=function(){specialityEnlarge.style.display="none",specialityClose.style.display="block",specialityImg.classList.add("speciality-enlarge")}),specialityImg.addEventListener("click",closeImg),specialityClose.addEventListener("click",closeImg)),function(e){coursesTitle[e].addEventListener("click",function(){return coursesContent[e].classList.toggle("courses-visible")})}),_i2=0;_i2<coursesTitle.length;_i2++)_loop(_i2);inputValues!==[]&&null!==gradeResult&null!==coursesExplanation&&null!==gradeResultInfo&&null!==gradeCloseResult&&(closeResult=function(e){e.preventDefault(),gradeResultInfo.classList.remove("result-visible")},calculateButton.addEventListener("click",calculateGrade=function(e){inputValues.forEach(function(e){e=parseFloat(e.value);inputNumbersArr.push(e)});var t=inputNumbersArr.slice(0,-4),a=inputNumbersArr.slice(-4),s=t.reduce(function(e,t){return e+t}),n=a.reduce(function(e,t){return e+t}),t=t.filter(function(e){return 2===e}).length,a=n/a.length;t<=1&&3<=a?(t=Math.round(2*(2/3*s/3+1/3*n/4))/2,gradeResult.textContent=t.toFixed(1),coursesExplanation.style.display="none"):(gradeResult.textContent="2.0",coursesExplanation.style.display="block"),inputNumbersArr.length=0,e.preventDefault(),gradeResultInfo.classList.contains("result-visible")?gradeResult.textContent=gradeResultNumber.toFixed(1):gradeResultInfo.classList.add("result-visible")}),gradeCloseResult.addEventListener("click",closeResult));var displayYear=function(){var e=document.querySelector(".year"),t=new Date;e.textContent=t.getFullYear()};themeLink.addEventListener("click",changeTheme),window.addEventListener("DOMContentLoaded",saveTheme),window.addEventListener("click",removeItemsDown),navBurger.addEventListener("click",showMobileItems),navBurger.addEventListener("click",removeMobileItemsDown),window.addEventListener("DOMContentLoaded",highlightNavMain),window.addEventListener("DOMContentLoaded",highlightMobileMain),window.addEventListener("DOMContentLoaded",displayYear);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJjb3Vyc2VzRXhwbGFuYXRpb24iLCJib2R5IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWFpbiIsInRoZW1lTGluayIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsYW5ndWFnZUxpbmsiLCJuYXZJdGVtc01haW4iLCJBcnJheSIsInVsSXRlbXNEb3duIiwiZnJvbSIsIm5hdkl0ZW1zRG93biIsIm5hdkl0ZW1zTW9iaWxlTWFpbiIsInVsSXRlbXNNb2JpbGVEb3duIiwiYWxsTmF2SXRlbXNNYWluIiwibmF2QnVyZ2VyIiwibmF2TW9iaWxlSXRlbXMiLCJzcGVjaWFsaXR5SW1nIiwic3BlY2lhbGl0eUVubGFyZ2UiLCJzcGVjaWFsaXR5Q2xvc2UiLCJjb3Vyc2VzVGl0bGUiLCJjb3Vyc2VzQ29udGVudCIsImlucHV0VmFsdWVzIiwiY2FsY3VsYXRlQnV0dG9uIiwiZ3JhZGVSZXN1bHQiLCJncmFkZVJlc3VsdEluZm8iLCJjdXJyZW50VGhlbWUiLCJjaGFuZ2VUaGVtZSIsImdldEF0dHJpYnV0ZSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJzYXZlVGhlbWUiLCJnZXRJdGVtIiwic2V0QXR0cmlidXRlIiwiZm9yRWFjaCIsIml0ZW0iLCJjbGFzc0xpc3QiLCJsZW5ndGgiLCJpIiwic2hvd0l0ZW1zRG93biIsImUiLCJyZW1vdmVJdGVtc0Rvd24iLCJpbmRleE9mIiwidGFyZ2V0IiwicmVtb3ZlIiwidG9nZ2xlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhpZ2hsaWdodE5hdk1haW4iLCJjb250YWlucyIsImFkZCIsIm5hdkl0ZW1zIiwic2hvd0l0ZW1zTW9iaWxlRG93biIsInNob3dNb2JpbGVJdGVtcyIsImFsbE1vYmlsZUl0ZW1zTWFpbiIsImVubGFyZ2VJbWciLCJjbG9zZVJlc3VsdCIsImhpZ2hsaWdodE1vYmlsZU1haW4iLCJzdHlsZSIsImRpc3BsYXkiLCJjbG9zZUltZyIsIl9sb29wIiwiaW5wdXROdW1iZXIiLCJwYXJzZUZsb2F0IiwiaW5wdXRWYWx1ZSIsImlucHV0TnVtYmVyc0FyciIsInB1c2giLCJzdW1FeGVyY2lzZUdyYWRlcyIsImV4ZXJjaXNlR3JhZGVzIiwicHJldkdyYWRlIiwibmV4dEdyYWRlIiwidGVzdEF2ZXJhZ2UiLCJzdW1UZXN0R3JhZGVzIiwiZmx1bmtpbmdHcmFkZXNDb3VudCIsImdyYWRlIiwiZ3JhZGVDbG9zZVJlc3VsdCIsInByZXZlbnREZWZhdWx0IiwidmFsdWUiLCJzbGljZSIsInJlZHVjZSIsInRlc3RHcmFkZXMiLCJjYWxjdWxhdGVHcmFkZSIsImRpc3BsYXlZZWFyIiwiZ2V0WWVhciIsInRleHRDb250ZW50IiwiZ2V0RnVsbFllYXIiLCJncmFkZVJlc3VsdE51bWJlciIsInRvRml4ZWQiLCJ3aW5kb3ciLCJ5ZWFyIiwiRGF0ZSIsInJlbW92ZU1vYmlsZUl0ZW1zRG93biJdLCJtYXBwaW5ncyI6ImFBaURBLElBakRBLElBc0JNQSxhQXRCQUMsS0FBT0MsU0FBU0MsY0FBYyxNQUFNLEVBQ3BDQyxLQUFPRixTQUFTQyxjQUFjLE9BQU8sRUFEckNGLFVBQU9DLFNBQVNDLGNBQXFCLFFBQUEsRUFDckNDLGFBQWdCRCxTQUFBQSxjQUFzQixXQUFBLEVBQ3RDRSxhQUFZSCxNQUFTQyxLQUFBQSxTQUFjRyxpQkFBUyxPQUFBLENBQUEsRUFDNUNDLFlBQWVMLE1BQUFBLEtBQVNDLFNBQUFBLGlCQUEwQixrQkFBQSxDQUFBLEVBQ2xESyxhQUFlQyxTQUFXUCxpQkFBU0ksaUJBQXlCLEVBQzVESSxtQkFBb0JDLE1BQUtULEtBQVNJLFNBQUFBLGlCQUFpQixjQUFvQixDQUFBLEVBQ3ZFTSxrQkFBZVYsTUFBU0ksS0FBQUEsU0FBaUJBLGlCQUFrQix5QkFBQSxDQUFBLEVBQzNETyxnQkFBa0JKLE1BQVFFLEtBQUtULFNBQVNJLGlCQUFpQixpQkFBaUIsQ0FBQSxFQUMxRVEsVUFBQUEsU0FBb0JMLGNBQVdQLGNBQVNJLEVBQ3hDUyxlQUFrQk4sU0FBVU4sY0FBVUcsb0JBQWlCLEVBQ3ZEVSxj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LFFBQVNNLGVBQWUsRUFDbkRyQyxVQUFVK0IsaUJBQWlCLFFBQVM0QyxxQkFBcUIsRUFDekRILE9BQU96QyxpQkFBaUIsbUJBQW9CQyxnQkFBZ0IsRUFDNUR3QyxPQUFPekMsaUJBQWlCLG1CQUFvQlUsbUJBQW1CLEVBQy9EK0IsT0FBT3pDLGlCQUFpQixtQkFBb0JtQyxXQUFXIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpXHJcbmNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbicpXHJcbmNvbnN0IHRoZW1lTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aGVtZScpXHJcbmNvbnN0IGxhbmd1YWdlTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYW5ndWFnZScpXHJcbmNvbnN0IG5hdkl0ZW1zTWFpbiA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRvd24nKSlcclxuY29uc3QgdWxJdGVtc0Rvd24gPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfX2l0ZW1zLWRvd24nKSlcclxuY29uc3QgbmF2SXRlbXNEb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdl9faXRlbS1kb3duJylcclxuY29uc3QgbmF2SXRlbXNNb2JpbGVNYWluID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9iaWxlLWRvd24nKSlcclxuY29uc3QgdWxJdGVtc01vYmlsZURvd24gPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfX21vYmlsZS1pdGVtcy1kb3duJykpXHJcbmNvbnN0IGFsbE5hdkl0ZW1zTWFpbiA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdl9faXRlbS1tYWluJykpXHJcbmNvbnN0IG5hdkJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX2J1cmdlcicpXHJcbmNvbnN0IG5hdk1vYmlsZUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fbW9iaWxlLWl0ZW1zJylcclxuY29uc3Qgc3BlY2lhbGl0eUltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zcGVjaWFsaXR5LXBob3RvJylcclxuY29uc3Qgc3BlY2lhbGl0eUVubGFyZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmEtbWFnbmlmeWluZy1nbGFzcy1wbHVzJylcclxuY29uc3Qgc3BlY2lhbGl0eUNsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNwZWNpYWxpdHktY2xvc2luZy1pbmZvJylcclxuY29uc3QgY291cnNlc1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvdXJzZXNfX3RpdGxlJylcclxuY29uc3QgY291cnNlc0NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY291cnNlc19fY29udGVudCcpXHJcbmNvbnN0IGlucHV0VmFsdWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvdXJzZXNfX2NhbGN1bGF0b3ItZ3JhZGUnKVxyXG5jb25zdCBjYWxjdWxhdGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY291cnNlc19fY2FsY3VsYXRvci1idXR0b24nKVxyXG5jb25zdCBncmFkZVJlc3VsdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb3Vyc2VzX19yZXN1bHQnKVxyXG5jb25zdCBncmFkZVJlc3VsdEluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY291cnNlc19fY2FsY3VsYXRvci1yZXN1bHQnKVxyXG5jb25zdCBncmFkZUNsb3NlUmVzdWx0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvdXJzZXNfX2Nsb3NlLXJlc3VsdCcpXHJcbmNvbnN0IGNvdXJzZXNFeHBsYW5hdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb3Vyc2VzX19leHBsYW5hdGlvbicpXHJcblxyXG5sZXQgY3VycmVudFRoZW1lXHJcbmNvbnN0IGlucHV0TnVtYmVyc0FyciA9IFtdXHJcblxyXG5jb25zdCBjaGFuZ2VUaGVtZSA9ICgpID0+IHtcclxuXHRpZiAoYm9keS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbW9kZScpID09PSAnZGFyaycpIHtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0aGVtZScsICdsaWdodCcpXHJcblx0fSBlbHNlIHtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0aGVtZScsICdkYXJrJylcclxuXHR9XHJcblx0c2F2ZVRoZW1lKClcclxufVxyXG5cclxuY29uc3Qgc2F2ZVRoZW1lID0gKCkgPT4ge1xyXG5cdGN1cnJlbnRUaGVtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0aGVtZScpXHJcblx0XHJcblx0aWYgKGN1cnJlbnRUaGVtZSAhPT0gbnVsbClcclxuXHR7XHJcblx0XHRib2R5LnNldEF0dHJpYnV0ZSgnZGF0YS1tb2RlJywgY3VycmVudFRoZW1lKVxyXG5cdH1cclxuXHRlbHNlXHJcblx0e1xyXG5cdFx0Ym9keS5zZXRBdHRyaWJ1dGUoJ2RhdGEtbW9kZScsICdkYXJrJylcclxuXHR9XHJcbn1cclxuXHJcbmZvciAobGV0IGkgPSAwOyBpIDwgbmF2SXRlbXNNYWluLmxlbmd0aDsgaSsrKSB7XHJcblx0Y29uc3Qgc2hvd0l0ZW1zRG93biA9IChlKSA9PiB7XHJcblx0XHR1bEl0ZW1zRG93bi5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHRcdGlmICh1bEl0ZW1zRG93bi5pbmRleE9mKGl0ZW0pICE9PSBuYXZJdGVtc01haW4uaW5kZXhPZihlLnRhcmdldCkpIHtcclxuXHRcdFx0XHRpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1hY3RpdmUnKVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnbmF2LWFjdGl2ZScpXHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0XHRyZW1vdmVJdGVtc0Rvd24oZSlcclxuXHR9XHJcblx0bmF2SXRlbXNNYWluW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd0l0ZW1zRG93bilcclxufVxyXG5cclxuY29uc3QgaGlnaGxpZ2h0TmF2TWFpbiA9ICgpID0+IHtcclxuXHRzd2l0Y2ggKHRydWUpIHtcclxuXHRcdGNhc2UgbWFpbi5jbGFzc0xpc3QuY29udGFpbnMoJ2hvbWUnKTpcclxuXHRcdFx0YWxsTmF2SXRlbXNNYWluWzBdLmNsYXNzTGlzdC5hZGQoJ21lbnUtaXRlbS1hY3RpdmUnKVxyXG5cdFx0XHRicmVha1xyXG5cdFx0Y2FzZSBtYWluLmNsYXNzTGlzdC5jb250YWlucygnY291cnNlcycpOlxyXG5cdFx0XHRhbGxOYXZJdGVtc01haW5bMV0uY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtLWFjdGl2ZScpXHJcblx0XHRcdGJyZWFrXHJcblx0XHRjYXNlIG1haW4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzcGVjaWFsaXR5Jyk6XHJcblx0XHRcdGFsbE5hdkl0ZW1zTWFpblsyXS5jbGFzc0xpc3QuYWRkKCdtZW51LWl0ZW0tYWN0aXZlJylcclxuXHRcdFx0YnJlYWtcclxuXHRcdGNhc2UgbWFpbi5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJyk6XHJcblx0XHRcdGFsbE5hdkl0ZW1zTWFpblszXS5jbGFzc0xpc3QuYWRkKCdtZW51LWl0ZW0tYWN0aXZlJylcclxuXHRcdFx0YnJlYWtcclxuXHRcdGNhc2UgbWFpbi5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2VhcmNoJyk6XHJcblx0XHRcdGFsbE5hdkl0ZW1zTWFpbls0XS5jbGFzc0xpc3QuYWRkKCdtZW51LWl0ZW0tYWN0aXZlJylcclxuXHRcdFx0YnJlYWtcclxuXHRcdGNhc2UgbWFpbi5jbGFzc0xpc3QuY29udGFpbnMoJ2xhYnMnKTpcclxuXHRcdFx0YWxsTmF2SXRlbXNNYWluWzVdLmNsYXNzTGlzdC5hZGQoJ21lbnUtaXRlbS1hY3RpdmUnKVxyXG5cdFx0XHRicmVha1xyXG5cdH1cclxufVxyXG5cclxuY29uc3QgcmVtb3ZlSXRlbXNEb3duID0gKGUpID0+IHtcclxuXHRjb25zdCBuYXZJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX2l0ZW1zJylcclxuXHJcblx0aWYgKGUudGFyZ2V0ICE9PSBuYXZJdGVtcyAmJiBhbGxOYXZJdGVtc01haW4uaW5kZXhPZihlLnRhcmdldCkgPT09IC0xKSB7XHJcblx0XHR1bEl0ZW1zRG93bi5mb3JFYWNoKChpdGVtKSA9PiBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1hY3RpdmUnKSlcclxuXHR9XHJcbn1cclxuXHJcbmZvciAobGV0IGkgPSAwOyBpIDwgbmF2SXRlbXNNb2JpbGVNYWluLmxlbmd0aDsgaSsrKSB7XHJcblx0Y29uc3Qgc2hvd0l0ZW1zTW9iaWxlRG93biA9IChlKSA9PiB7XHJcblx0XHR1bEl0ZW1zTW9iaWxlRG93bi5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHR1bEl0ZW1zTW9iaWxlRG93bi5pbmRleE9mKGl0ZW0pICE9PSBuYXZJdGVtc01vYmlsZU1haW4uaW5kZXhPZihlLnRhcmdldClcclxuXHRcdFx0KSB7XHJcblx0XHRcdFx0aXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdtb2JpbGUtZG93bi1hY3RpdmUnKVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnbW9iaWxlLWRvd24tYWN0aXZlJylcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdG5hdkl0ZW1zTW9iaWxlTWFpbltpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dJdGVtc01vYmlsZURvd24pXHJcbn1cclxuXHJcbmNvbnN0IHNob3dNb2JpbGVJdGVtcyA9ICgpID0+XHJcblx0bmF2TW9iaWxlSXRlbXMuY2xhc3NMaXN0LnRvZ2dsZSgnbmF2LW1vYmlsZS1hY3RpdmUnKVxyXG5cclxuY29uc3QgaGlnaGxpZ2h0TW9iaWxlTWFpbiA9ICgpID0+IHtcclxuXHRjb25zdCBhbGxNb2JpbGVJdGVtc01haW4gPSBBcnJheS5mcm9tKFxyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdl9fbW9iaWxlLW1haW4nKVxyXG5cdClcclxuXHJcblx0c3dpdGNoICh0cnVlKSB7XHJcblx0XHRjYXNlIG1haW4uY2xhc3NMaXN0LmNvbnRhaW5zKCdob21lJyk6XHJcblx0XHRcdGFsbE1vYmlsZUl0ZW1zTWFpblswXS5jbGFzc0xpc3QuYWRkKCdtZW51LWl0ZW0tYWN0aXZlJylcclxuXHRcdFx0YnJlYWtcclxuXHRcdGNhc2UgbWFpbi5jbGFzc0xpc3QuY29udGFpbnMoJ2NvdXJzZXMnKTpcclxuXHRcdFx0YWxsTW9iaWxlSXRlbXNNYWluWzFdLmNsYXNzTGlzdC5hZGQoJ21lbnUtaXRlbS1hY3RpdmUnKVxyXG5cdFx0XHRicmVha1xyXG5cdFx0Y2FzZSBtYWluLmNsYXNzTGlzdC5jb250YWlucygnc3BlY2lhbGl0eScpOlxyXG5cdFx0XHRhbGxNb2JpbGVJdGVtc01haW5bMl0uY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtLWFjdGl2ZScpXHJcblx0XHRcdGJyZWFrXHJcblx0XHRjYXNlIG1haW4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpOlxyXG5cdFx0XHRhbGxNb2JpbGVJdGVtc01haW5bM10uY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtLWFjdGl2ZScpXHJcblx0XHRcdGJyZWFrXHJcblx0XHRjYXNlIG1haW4uY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNlYXJjaCcpOlxyXG5cdFx0XHRhbGxNb2JpbGVJdGVtc01haW5bNF0uY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtLWFjdGl2ZScpXHJcblx0XHRcdGJyZWFrXHJcblx0XHRjYXNlIG1haW4uY2xhc3NMaXN0LmNvbnRhaW5zKCdsYWJzJyk6XHJcblx0XHRcdGFsbE1vYmlsZUl0ZW1zTWFpbls1XS5jbGFzc0xpc3QuYWRkKCdtZW51LWl0ZW0tYWN0aXZlJylcclxuXHRcdFx0YnJlYWtcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IHJlbW92ZU1vYmlsZUl0ZW1zRG93biA9ICgpID0+IHtcclxuXHRpZiAobmF2TW9iaWxlSXRlbXMuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtbW9iaWxlLWFjdGl2ZScpKSB7XHJcblx0XHRyZXR1cm5cclxuXHR9IGVsc2Uge1xyXG5cdFx0dWxJdGVtc01vYmlsZURvd24uZm9yRWFjaCgodWxJdGVtKSA9PlxyXG5cdFx0XHR1bEl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnbW9iaWxlLWRvd24tYWN0aXZlJylcclxuXHRcdClcclxuXHR9XHJcbn1cclxuXHJcbmlmIChcclxuXHRzcGVjaWFsaXR5RW5sYXJnZSAhPT0gbnVsbCAmJiBzcGVjaWFsaXR5Q2xvc2UgIT09IG51bGwgJiYgc3BlY2lhbGl0eUltZyAhPT0gbnVsbFxyXG4pIHtcclxuXHRjb25zdCBlbmxhcmdlSW1nID0gKCkgPT4ge1xyXG5cdFx0c3BlY2lhbGl0eUVubGFyZ2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG5cdFx0c3BlY2lhbGl0eUNsb3NlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXHJcblx0XHRzcGVjaWFsaXR5SW1nLmNsYXNzTGlzdC5hZGQoJ3NwZWNpYWxpdHktZW5sYXJnZScpXHJcblx0fVxyXG5cclxuXHRjb25zdCBjbG9zZUltZyA9ICgpID0+IHtcclxuXHRcdHNwZWNpYWxpdHlFbmxhcmdlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXHJcblx0XHRzcGVjaWFsaXR5Q2xvc2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG5cdFx0c3BlY2lhbGl0eUltZy5jbGFzc0xpc3QucmVtb3ZlKCdzcGVjaWFsaXR5LWVubGFyZ2UnKVxyXG5cdH1cclxuXHJcblx0c3BlY2lhbGl0eUVubGFyZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlbmxhcmdlSW1nKVxyXG5cdHNwZWNpYWxpdHlJbWcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUltZylcclxuXHRzcGVjaWFsaXR5Q2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUltZylcclxufVxyXG5cclxuZm9yIChsZXQgaSA9IDA7IGkgPCBjb3Vyc2VzVGl0bGUubGVuZ3RoOyBpKyspIHtcclxuXHRjb25zdCBzaG93Q291cnNlc0NvbnRlbnQgPSAoKSA9PlxyXG5cdFx0Y291cnNlc0NvbnRlbnRbaV0uY2xhc3NMaXN0LnRvZ2dsZSgnY291cnNlcy12aXNpYmxlJylcclxuXHJcblx0Y291cnNlc1RpdGxlW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd0NvdXJzZXNDb250ZW50KVxyXG59XHJcblxyXG5pZiAoXHJcblx0aW5wdXRWYWx1ZXMgIT09IFtdICYmXHJcblx0Z3JhZGVSZXN1bHQgIT09IG51bGwgJiBjb3Vyc2VzRXhwbGFuYXRpb24gIT09IG51bGwgJiYgZ3JhZGVSZXN1bHRJbmZvICE9PSBudWxsICYmIGdyYWRlQ2xvc2VSZXN1bHQgIT09IG51bGxcclxuKSB7XHJcblx0Y29uc3QgY2FsY3VsYXRlR3JhZGUgPSAoZSkgPT4ge1xyXG5cdFx0aW5wdXRWYWx1ZXMuZm9yRWFjaCgoaW5wdXRWYWx1ZSkgPT4ge1xyXG5cdFx0XHRjb25zdCBpbnB1dE51bWJlciA9IHBhcnNlRmxvYXQoaW5wdXRWYWx1ZS52YWx1ZSlcclxuXHRcdFx0aW5wdXROdW1iZXJzQXJyLnB1c2goaW5wdXROdW1iZXIpXHJcblx0XHR9KVxyXG5cclxuXHRcdGNvbnN0IGV4ZXJjaXNlR3JhZGVzID0gaW5wdXROdW1iZXJzQXJyLnNsaWNlKDAsIC00KVxyXG5cdFx0Y29uc3QgdGVzdEdyYWRlcyA9IGlucHV0TnVtYmVyc0Fyci5zbGljZSgtNClcclxuXHRcdGNvbnN0IHN1bUV4ZXJjaXNlR3JhZGVzID0gZXhlcmNpc2VHcmFkZXMucmVkdWNlKChwcmV2R3JhZGUsIG5leHRHcmFkZSkgPT4ge1xyXG5cdFx0XHRyZXR1cm4gcHJldkdyYWRlICsgbmV4dEdyYWRlXHJcblx0XHR9KVxyXG5cdFx0Y29uc3Qgc3VtVGVzdEdyYWRlcyA9IHRlc3RHcmFkZXMucmVkdWNlKChwcmV2R3JhZGUsIG5leHRHcmFkZSkgPT4ge1xyXG5cdFx0XHRyZXR1cm4gcHJldkdyYWRlICsgbmV4dEdyYWRlXHJcblx0XHR9KVxyXG5cdFx0Y29uc3QgZmx1bmtpbmdHcmFkZXNDb3VudCA9IGV4ZXJjaXNlR3JhZGVzLmZpbHRlcihcclxuXHRcdFx0KGdyYWRlKSA9PiBncmFkZSA9PT0gMlxyXG5cdFx0KS5sZW5ndGhcclxuXHRcdGNvbnN0IHRlc3RBdmVyYWdlID0gc3VtVGVzdEdyYWRlcyAvIHRlc3RHcmFkZXMubGVuZ3RoXHJcblxyXG5cdFx0aWYgKGZsdW5raW5nR3JhZGVzQ291bnQgPD0gMSAmJiB0ZXN0QXZlcmFnZSA+PSAzKSB7XHJcblx0XHRcdGNvbnN0IGdyYWRlUmVzdWx0TnVtYmVyID0gTWF0aC5yb3VuZCgoKCgyIC8gMykgKiBzdW1FeGVyY2lzZUdyYWRlcykgLyAzICsgKCgxIC8gMykgKiBzdW1UZXN0R3JhZGVzKSAvIDQpICogMikgLyAyXHJcblx0XHRcdGdyYWRlUmVzdWx0LnRleHRDb250ZW50ID0gZ3JhZGVSZXN1bHROdW1iZXIudG9GaXhlZCgxKVxyXG5cdFx0XHRjb3Vyc2VzRXhwbGFuYXRpb24uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Z3JhZGVSZXN1bHQudGV4dENvbnRlbnQgPSAnMi4wJ1xyXG5cdFx0XHRjb3Vyc2VzRXhwbGFuYXRpb24uc3R5bGUuZGlzcGxheSA9ICdibG9jaydcclxuXHRcdH1cclxuXHJcblx0XHRpbnB1dE51bWJlcnNBcnIubGVuZ3RoID0gMFxyXG5cclxuXHRcdGUucHJldmVudERlZmF1bHQoKVxyXG5cdFx0aWYgKGdyYWRlUmVzdWx0SW5mby5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc3VsdC12aXNpYmxlJykpIHtcclxuXHRcdFx0Z3JhZGVSZXN1bHQudGV4dENvbnRlbnQgPSBncmFkZVJlc3VsdE51bWJlci50b0ZpeGVkKDEpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRncmFkZVJlc3VsdEluZm8uY2xhc3NMaXN0LmFkZCgncmVzdWx0LXZpc2libGUnKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y29uc3QgY2xvc2VSZXN1bHQgPSAoZSkgPT4ge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpXHJcblx0XHRncmFkZVJlc3VsdEluZm8uY2xhc3NMaXN0LnJlbW92ZSgncmVzdWx0LXZpc2libGUnKVxyXG5cdH1cclxuXHJcblx0Y2FsY3VsYXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2FsY3VsYXRlR3JhZGUpXHJcblx0Z3JhZGVDbG9zZVJlc3VsdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlUmVzdWx0KVxyXG59XHJcblxyXG5jb25zdCBkaXNwbGF5WWVhciA9ICgpID0+IHtcclxuXHRjb25zdCB5ZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnllYXInKVxyXG5cclxuXHRjb25zdCBnZXRZZWFyID0gbmV3IERhdGUoKVxyXG5cdHllYXIudGV4dENvbnRlbnQgPSBnZXRZZWFyLmdldEZ1bGxZZWFyKClcclxufVxyXG5cclxudGhlbWVMaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlVGhlbWUpXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgc2F2ZVRoZW1lKVxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVJdGVtc0Rvd24pXHJcbm5hdkJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dNb2JpbGVJdGVtcylcclxubmF2QnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlTW9iaWxlSXRlbXNEb3duKVxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGhpZ2hsaWdodE5hdk1haW4pXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgaGlnaGxpZ2h0TW9iaWxlTWFpbilcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBkaXNwbGF5WWVhcilcclxuIl19
